# Install Nginx
sudo apt update
sudo apt install nginx

# Create configuration file
sudo nano /etc/nginx/sites-available/api-config

# Configuration example for api
server {
    listen 80;

    server_name 187.33.146.62;

    location /api {
        proxy_pass http://localhost:5000;
        proxy_no_cache 1;
	proxy_cache_bypass 1;
	proxy_http_version 1.1;
	proxy_set_header   Upgrade $http_upgrade;
	proxy_set_header   Connection keep-alive;
	proxy_set_header   Host $host;
	proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
	proxy_set_header   X-Forwarded-Proto $scheme;
    }
}

# Test nginx
sudo nginx -t

# Restart nginx
sudo systemctl restart nginx

# Create link 
sudo ln -s /etc/nginx/sites-available/api-config /etc/nginx/sites-enabled/

# Test nginx
sudo nginx -t

# Restart nginx
sudo systemctl restart nginx

# Enable firewall pass
sudo ufw allow 'Nginx Full'

# Restart Service
sudo systemctl restart web-stack-base-api